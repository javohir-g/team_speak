<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Голосовой чат</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Выберите комнату</h1>
        <input type="text" id="username" placeholder="Введите ваше имя">
        <div class="rooms">
            
        </div>
        <button class="create-room-btn" onclick="showCreateRoomModal()">
            <i class="fas fa-plus"></i> Создать комнату
        </button>
    </div>

    <!-- Интерфейс комнаты -->
    <div class="room" style="display: none;">
        <div class="room-header">
            <h2 id="room-name"></h2>
            <div class="controls">
                <button class="control-btn mute-btn" onclick="toggleMute()">
                    <i class="fas fa-microphone"></i>
                    <div class="volume-container">
                        <div class="volume-meter"></div>
                    </div>
                </button>
                <button class="control-btn" onclick="leaveRoom()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
        <div class="users-list"></div>
    </div>

    <!-- Модальное окно создания комнаты -->
    <div id="createRoomModal" class="modal">
        <div class="modal-content">
            <h2>Создание комнаты</h2>
            <div class="modal-form">
                <input type="text" id="roomName" placeholder="Название комнаты" maxlength="30">
                <input type="password" id="roomPassword" placeholder="Пароль комнаты">
                <div class="max-users-container">
                    <label for="maxUsers">Максимум участников:</label>
                    <input type="number" id="maxUsers" min="2" max="10" value="5">
                </div>
                <div class="modal-buttons">
                    <button onclick="createRoom()">Создать</button>
                    <button onclick="hideCreateRoomModal()" class="cancel">Отмена</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно для ввода пароля -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <h2>Вход в комнату</h2>
            <div class="modal-form">
                <input type="password" id="enterPassword" placeholder="Введите пароль">
                <div class="modal-buttons">
                    <button onclick="joinProtectedRoom()">Войти</button>
                    <button onclick="hidePasswordModal()" class="cancel">Отмена</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Подключаем библиотеки -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-peer/9.11.1/simplepeer.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html> 